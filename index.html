<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style type="text/css">
        .image-row {
            font-size: 0;
        }

        img {
            width: 64px;
            height: 64px;
        }

        table {
            text-align: center;
            margin: auto;
        }

    </style>
    <script type="text/javascript">
        var loaded=0, MAX_IMG = 64;
        function compare() {
            document.querySelectorAll("#image-http-1 .demo-image").forEach(reloadImage);
            document.querySelectorAll("#image-http-2 .demo-image").forEach(reloadImage);
        }

        function reloadImage(elm){
            var oldSrc = elm.getAttribute("src");
            var t = performance.now();
            elm.setAttribute("alt", t);
            elm.setAttribute("src", "");
            elm.setAttribute("src", oldSrc + "?t=" + t);
            elm.onload = function(evt){
                var el = evt.target;
                var t0 = parseFloat(el.alt);
                var t1 = performance.now();
                var tf = t1-t0;
                var tfsec = tf / 1000;
                el.setAttribute("title", tfsec + " sec" );

                if(loaded == MAX_IMG){
                    loaded=0;
                    measure()
                }
                loaded++;
            }
        }

        function getEleapsedTimeToLoad(img){
            var title = img.getAttribute("title");
            return title == null ? 0 : parseFloat(title.replace(" sec"),'') ;
        }

        function measure(){
            var tfh1 = 0, tfh2 = 0; 
            document.querySelectorAll("#image-http-1 .demo-image").forEach(function(img){
                tfh1 += getEleapsedTimeToLoad(img);
                document.getElementById ("info1").innerHTML = tfh1.toFixed(2) + " sec";
            });
            document.querySelectorAll("#image-http-2 .demo-image").forEach(function(img){
                tfh2 += getEleapsedTimeToLoad(img);
                document.getElementById ("info3").innerHTML = tfh2.toFixed(2) + " sec";
            });

            document.getElementById ("info2").innerHTML = (tfh1/tfh2).toFixed(2) + "x";
        }

    </script>
</head>

<body>

    <table>
        <tr>
            <tr>

                <td>
                    <h1>HTTP 1.1</h1>
                </td>
                <td><button onclick="compare()">Compare</button></td>
                <td>
                    <h1>HTTP 2</h1>
                </td>

            </tr>

            <tr>
                <td>

                    <div id="image-http-1">
                        <div class="image-row">
                            <img class="demo-image" src="http://localhost:3001/img/tile-0.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-1.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-2.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-3.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-4.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-5.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-6.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-7.png">
                        </div>

                        <div class="image-row">
                            <img class="demo-image" src="http://localhost:3001/img/tile-8.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-9.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-10.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-11.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-12.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-13.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-14.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-15.png">
                        </div>

                        <div class="image-row">
                            <img class="demo-image" src="http://localhost:3001/img/tile-16.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-17.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-18.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-19.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-20.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-21.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-22.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-23.png">
                        </div>

                        <div class="image-row">
                            <img class="demo-image" src="http://localhost:3001/img/tile-24.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-25.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-26.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-27.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-28.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-29.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-30.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-31.png">
                        </div>

                        <div class="image-row">
                            <img class="demo-image" src="http://localhost:3001/img/tile-32.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-33.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-34.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-35.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-36.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-37.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-38.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-39.png">
                        </div>

                        <div class="image-row">
                            <img class="demo-image" src="http://localhost:3001/img/tile-40.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-41.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-42.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-43.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-44.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-45.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-46.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-47.png">
                        </div>

                        <div class="image-row">
                            <img class="demo-image" src="http://localhost:3001/img/tile-48.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-49.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-50.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-51.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-52.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-53.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-54.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-55.png">
                        </div>

                        <div class="image-row">
                            <img class="demo-image" src="http://localhost:3001/img/tile-56.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-57.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-58.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-59.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-60.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-61.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-62.png">
                            <img class="demo-image" src="http://localhost:3001/img/tile-63.png">
                        </div>

                    </div>

                </td>
                <td>&nbsp;</td>
                <td>

                    <div id="image-http-2">
                        <div class="image-row">
                            <img class="demo-image" src="https://localhost:3002/img/tile-0.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-1.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-2.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-3.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-4.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-5.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-6.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-7.png">
                        </div>

                        <div class="image-row">
                            <img class="demo-image" src="https://localhost:3002/img/tile-8.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-9.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-10.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-11.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-12.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-13.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-14.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-15.png">
                        </div>

                        <div class="image-row">
                            <img class="demo-image" src="https://localhost:3002/img/tile-16.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-17.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-18.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-19.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-20.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-21.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-22.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-23.png">
                        </div>

                        <div class="image-row">
                            <img class="demo-image" src="https://localhost:3002/img/tile-24.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-25.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-26.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-27.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-28.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-29.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-30.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-31.png">
                        </div>

                        <div class="image-row">
                            <img class="demo-image" src="https://localhost:3002/img/tile-32.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-33.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-34.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-35.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-36.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-37.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-38.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-39.png">
                        </div>

                        <div class="image-row">
                            <img class="demo-image" src="https://localhost:3002/img/tile-40.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-41.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-42.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-43.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-44.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-45.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-46.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-47.png">
                        </div>

                        <div class="image-row">
                            <img class="demo-image" src="https://localhost:3002/img/tile-48.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-49.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-50.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-51.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-52.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-53.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-54.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-55.png">
                        </div>

                        <div class="image-row">
                            <img class="demo-image" src="https://localhost:3002/img/tile-56.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-57.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-58.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-59.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-60.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-61.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-62.png">
                            <img class="demo-image" src="https://localhost:3002/img/tile-63.png">
                        </div>

                    </div>

                </td>

            </tr>
            <tr>
                <td><h3 id="info1"></h3></td>
                <td><h3 id="info2"></h3></td>
                <td><h3 id="info3"></h3></td>
            </tr>

    </table>

</body>

</html>
